:root{--gold:#c9a84c;--gold2:#e8c96a;--dark:#0d0b07;--dark2:#1a1510;--dark3:#251e14;--dark4:#2e2518;--parch:#f0e6c8;--parch2:#e8d9a8;--red:#8b2020;--ink:#2a1f0a;}*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}html{scroll-behavior:smooth;}body{background:var(--dark);color:var(--parch);font-family:'Crimson Text',serif;font-size:17px;min-height:100vh;background-image:radial-gradient(ellipse at 20% 50%,rgba(201,168,76,0.05) 0%,transparent 70%),radial-gradient(ellipse at 80% 80%,rgba(201,168,76,0.03) 0%,transparent 70%);}h1,h2,h3,h4{font-family:'Cinzel',serif;}.page{opacity:0;transition:opacity .35s ease;}.page.active{display:block;}#app-page{display:block;}.page.visible{opacity:1;}#auth-page{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:16px;position:fixed;inset:0;background:var(--dark);z-index:500;background-image:radial-gradient(ellipse at 20% 50%,rgba(201,168,76,0.1) 0%,transparent 70%);}.auth-wrap{width:100%;max-width:420px;}.auth-logo{text-align:center;margin-bottom:28px;}.auth-logo .title{font-family:'Cinzel Decorative',serif;color:var(--gold);font-size:2rem;display:block;}.auth-logo .sub{color:var(--parch2);font-style:italic;font-size:1rem;}.auth-box{background:var(--dark2);border:1px solid rgba(201,168,76,0.5);padding:32px;position:relative;animation:fadeUp .4s ease;}@keyframes fadeUp{from{opacity:0;transform:translateY(16px);}to{opacity:1;transform:none;}}.auth-tabs{display:flex;margin-bottom:24px;border-bottom:1px solid rgba(201,168,76,0.4);}.auth-tab{flex:1;padding:10px;background:none;border:none;color:var(--parch2);font-family:'Cinzel',serif;cursor:pointer;font-size:.9rem;transition:.2s;position:relative;}.auth-tab.active{color:var(--gold);}.auth-tab.active::after{content:'';position:absolute;bottom:-1px;left:0;right:0;height:2px;background:var(--gold);}label{display:block;font-family:'Cinzel',serif;font-size:.78rem;color:var(--gold2);margin-bottom:4px;letter-spacing:.05em;}input[type=text],input[type=password],input[type=email],input[type=number],select,textarea{width:100%;background:var(--dark3);border:1px solid rgba(201,168,76,0.35);color:var(--parch);padding:10px 12px;margin-bottom:10px;font-family:'Crimson Text',serif;font-size:.95rem;}input:focus,select:focus,textarea:focus{border-color:var(--gold);background:var(--dark4);}.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:11px 20px;font-family:'Cinzel',serif;font-size:.85rem;cursor:pointer;border:none;transition:.2s;letter-spacing:.05em;border-radius:2px;}.btn-gold{background:var(--gold);color:var(--dark);font-weight:700;}.btn-gold:hover,.btn-gold:active{background:var(--gold2);}.btn-outline{background:transparent;border:1px solid var(--gold);color:var(--gold);}.btn-outline:hover,.btn-outline:active{background:rgba(201,168,76,0.12);}.btn-red{background:var(--red);color:var(--parch);}.btn-red:hover{background:#a02525;}.btn-green{background:#1a5c1a;color:var(--parch);}.btn-green:hover{background:#226622;}.btn-sm{padding:6px 12px;font-size:.78rem;}.btn-full{width:100%;}.err{color:#e05555;font-size:.88rem;margin-bottom:10px;font-style:italic;}#nav{background:var(--dark2);border-bottom:1px solid rgba(201,168,76,0.5);padding:0 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:200;min-height:52px;}.nav-logo{font-family:'Cinzel Decorative',serif;color:var(--gold);font-size:1rem;flex-shrink:0;}.nav-links{display:flex;gap:0;overflow-x:auto;-webkit-overflow-scrolling:touch;}.nav-links::-webkit-scrollbar{display:none;}.nav-link{padding:14px 12px;color:var(--parch2);font-family:'Cinzel',serif;font-size:.75rem;cursor:pointer;border-bottom:2px solid transparent;transition:.2s;letter-spacing:.04em;background:none;border:none;}.nav-link:hover,.nav-link.active{color:var(--gold);border-bottom-color:var(--gold);}.nav-right{display:flex;align-items:center;gap:8px;flex-shrink:0;}.nav-user{color:var(--parch2);font-size:.85rem;font-style:italic;display:none;}@media(min-width:600px){.nav-user{display:block;}}.hamburger{display:none;flex-direction:column;gap:4px;cursor:pointer;padding:8px;background:none;border:none;}.hamburger span{width:22px;height:2px;background:var(--gold);transition:.2s;}@media(max-width:600px){.hamburger{display:flex;}.nav-links{position:fixed;top:52px;left:0;right:0;background:var(--dark2);border-bottom:1px solid var(--gold);flex-direction:column;padding:8px 0;display:none;z-index:199;}.nav-links.open{display:flex;}.nav-link{padding:12px 20px;border-bottom:1px solid rgba(201,168,76,0.1);font-size:.9rem;}.nav-link:last-child{border-bottom:none;}}.main{padding:20px 16px;max-width:1100px;margin:0 auto;}@media(min-width:768px){.main{padding:28px 24px;}}.page-title{font-family:'Cinzel Decorative',serif;color:var(--gold);font-size:1.5rem;margin-bottom:4px;}.page-subtitle{color:var(--parch2);font-style:italic;margin-bottom:24px;font-size:.95rem;}.grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px;}.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;}.grid-4{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;}.grid-6{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;}@media(max-width:600px){.grid-2{grid-template-columns:1fr;}.grid-3{grid-template-columns:1fr 1fr;}.grid-4{grid-template-columns:repeat(2,1fr);}.grid-6{grid-template-columns:repeat(3,1fr);}}@media(max-width:380px){.grid-3{grid-template-columns:1fr;}.grid-6{grid-template-columns:repeat(2,1fr);}}.card{background:var(--dark2);border:1px solid rgba(201,168,76,0.25);padding:16px;margin-bottom:14px;}.card-title{font-family:'Cinzel',serif;color:var(--gold);font-size:.9rem;margin-bottom:12px;padding-bottom:6px;border-bottom:1px solid rgba(201,168,76,0.2);}.char-card{background:var(--dark2);border:1px solid rgba(201,168,76,0.25);padding:16px;margin-bottom:10px;transition:.2s;}.char-card:hover{border-color:rgba(201,168,76,0.6);}.char-name{font-family:'Cinzel',serif;color:var(--gold);font-size:1.05rem;}.char-info{color:var(--parch2);font-size:.88rem;font-style:italic;margin:4px 0;}.char-actions{display:flex;gap:6px;flex-wrap:wrap;margin-top:10px;}.stat-box{background:var(--dark3);border:1px solid rgba(201,168,76,0.4);padding:10px 6px;text-align:center;}.stat-label{font-family:'Cinzel',serif;font-size:.65rem;color:var(--gold2);letter-spacing:.04em;display:block;margin-bottom:3px;}.stat-score{font-size:1.6rem;font-weight:700;color:var(--parch);line-height:1;}.stat-mod{color:var(--gold);font-size:.9rem;margin-top:2px;}.stat-input-sm{width:100%;text-align:center;font-size:1.3rem;padding:4px;margin-bottom:0;}.cs{background:var(--dark3);border:1px solid rgba(201,168,76,0.4);padding:10px 6px;text-align:center;}.cs-val{font-size:1.5rem;font-family:'Cinzel',serif;color:var(--parch);line-height:1;}.cs-lbl{font-family:'Cinzel',serif;font-size:.62rem;color:var(--gold2);letter-spacing:.04em;margin-top:3px;}.skill-row{display:flex;align-items:center;gap:6px;padding:3px 0;border-bottom:1px solid rgba(201,168,76,0.08);}.skill-row input[type=checkbox]{width:15px;height:15px;accent-color:var(--gold);flex-shrink:0;}.skill-name{flex:1;font-size:.9rem;}.skill-bonus{font-family:'Cinzel',serif;color:var(--gold);font-size:.85rem;min-width:28px;text-align:right;}.prof-dot{width:9px;height:9px;border-radius:50%;border:1px solid var(--gold);display:inline-block;flex-shrink:0;}.prof-dot.filled{background:var(--gold);}.exp-dot{width:9px;height:9px;border-radius:50%;border:1px solid var(--gold2);background:var(--gold2);display:inline-block;flex-shrink:0;}.tab-bar{display:flex;flex-wrap:nowrap;overflow-x:auto;border-bottom:1px solid rgba(201,168,76,0.3);margin-bottom:18px;-webkit-overflow-scrolling:touch;}.tab-bar::-webkit-scrollbar{height:3px;}.tab-bar::-webkit-scrollbar-thumb{background:var(--gold);}.tab-btn{padding:9px 14px;background:none;border:none;color:var(--parch2);font-family:'Cinzel',serif;font-size:.75rem;cursor:pointer;letter-spacing:.04em;border-bottom:2px solid transparent;transition:.2s;}.tab-btn:hover,.tab-btn.active{color:var(--gold);border-bottom-color:var(--gold);}.tab-panel{display:none;}.tab-panel.active{display:block;}.section-h{font-family:'Cinzel',serif;color:var(--gold);font-size:.88rem;margin:18px 0 10px;padding-bottom:5px;border-bottom:1px solid rgba(201,168,76,0.2);}.spell-item{background:var(--dark3);border:1px solid rgba(201,168,76,0.18);padding:9px;margin-bottom:7px;}.spell-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;gap:8px;}.spell-name{font-family:'Cinzel',serif;color:var(--gold);font-size:.9rem;}.spell-body{display:none;margin-top:8px;font-size:.88rem;color:var(--parch2);}.spell-body.open{display:block;}.conc-badge{font-size:.7rem;background:rgba(201,168,76,0.2);border:1px solid var(--gold);color:var(--gold);padding:1px 5px;border-radius:2px;flex-shrink:0;}.equip-row{display:flex;align-items:center;gap:6px;padding:5px 0;border-bottom:1px solid rgba(201,168,76,0.1);flex-wrap:wrap;}.equip-name{flex:1;min-width:100px;}.equip-qty,.equip-wt-in{width:52px;margin:0;padding:5px;text-align:center;}.slot-row{display:flex;align-items:center;gap:6px;margin-bottom:7px;flex-wrap:wrap;}.slot-pip{width:18px;height:18px;border-radius:50%;border:1px solid var(--gold);cursor:pointer;transition:.2s;flex-shrink:0;}.slot-pip.used{background:var(--dark3);}.slot-pip.avail{background:var(--gold);}.feature-item{background:var(--dark3);border:1px solid rgba(201,168,76,0.15);padding:9px;margin-bottom:5px;}.feature-name{font-family:'Cinzel',serif;color:var(--gold2);font-size:.88rem;cursor:pointer;display:flex;justify-content:space-between;align-items:center;}.feature-desc{display:none;margin-top:6px;font-size:.86rem;color:var(--parch2);line-height:1.5;}.feature-desc.open{display:block;}.save-pip{width:15px;height:15px;border-radius:50%;border:1px solid;cursor:pointer;flex-shrink:0;}.save-success{border-color:#55a055;}.save-success.filled{background:#55a055;}.save-fail{border-color:#e05555;}.save-fail.filled{background:#e05555;}.hp-bar{height:7px;background:var(--dark3);border:1px solid rgba(201,168,76,0.2);margin-top:5px;}.hp-fill{height:100%;background:linear-gradient(90deg,#8b2020,#c03030);transition:.4s;}.die-btn{width:64px;height:64px;background:var(--dark3);border:2px solid rgba(201,168,76,0.45);color:var(--gold);font-family:'Cinzel',serif;font-size:.85rem;cursor:pointer;transition:.2s;display:flex;align-items:center;justify-content:center;border-radius:2px;}.die-btn:hover,.die-btn:active{background:var(--gold);color:var(--dark);}.roll-result{background:var(--dark3);border:1px solid var(--gold);padding:16px;margin:14px 0;font-family:'Cinzel',serif;color:var(--gold);min-height:70px;display:flex;align-items:center;justify-content:center;font-size:1.2rem;}.roll-history{background:var(--dark3);border:1px solid rgba(201,168,76,0.2);padding:12px;max-height:220px;overflow-y:auto;}.roll-entry{padding:3px 0;border-bottom:1px solid rgba(201,168,76,0.1);font-size:.86rem;color:var(--parch2);}.campaign-card{background:var(--dark2);border:1px solid rgba(201,168,76,0.25);padding:16px;margin-bottom:12px;}.campaign-name{font-family:'Cinzel',serif;color:var(--gold);font-size:1.05rem;margin-bottom:5px;}.journal-entry{background:var(--dark3);border-left:3px solid var(--gold);padding:10px;margin-bottom:6px;}.journal-date{color:var(--gold2);font-size:.78rem;font-family:'Cinzel',serif;margin-bottom:3px;}.modal-bg{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.88);z-index:300;align-items:flex-start;justify-content:center;padding:16px;overflow-y:auto;}.modal-bg.open{display:flex;}.modal{background:var(--dark2);border:1px solid rgba(201,168,76,0.5);padding:24px;width:100%;max-width:860px;position:relative;margin:auto;}.modal-title{font-family:'Cinzel Decorative',serif;color:var(--gold);font-size:1.1rem;margin-bottom:18px;padding-right:30px;}.modal-close{position:absolute;top:12px;right:12px;background:none;border:none;color:var(--parch2);font-size:1.1rem;cursor:pointer;padding:6px;line-height:1;}.method-btn{padding:8px 14px;background:var(--dark3);border:1px solid rgba(201,168,76,0.3);color:var(--parch);font-family:'Cinzel',serif;font-size:.75rem;cursor:pointer;transition:.2s;margin:0 6px 6px 0;}.method-btn.active{background:rgba(201,168,76,0.18);border-color:var(--gold);color:var(--gold);}.badge{display:inline-block;padding:1px 7px;font-family:'Cinzel',serif;font-size:.68rem;border:1px solid;margin-right:3px;margin-bottom:2px;}.badge-gold{border-color:var(--gold);color:var(--gold);}.badge-red{border-color:var(--red);color:#e05555;}.badge-green{border-color:#2a6a2a;color:#55a055;}.badge-blue{border-color:#2a4a8a;color:#6080d0;}.attack-row{display:grid;grid-template-columns:2fr 1fr 1fr 1.5fr auto;gap:6px;align-items:center;padding:5px 0;border-bottom:1px solid rgba(201,168,76,0.1);}@media(max-width:500px){.attack-row{grid-template-columns:1fr 1fr auto;}}.mc-entry{background:var(--dark3);border:1px solid rgba(201,168,76,0.2);padding:10px;margin-bottom:8px;display:flex;align-items:center;gap:8px;flex-wrap:wrap;}.attack-row input{margin:0;padding:5px;}::-webkit-scrollbar{width:5px;height:5px;}::-webkit-scrollbar-track{background:var(--dark);}::-webkit-scrollbar-thumb{background:var(--gold);border-radius:3px;}.ref-item{background:var(--dark3);border:1px solid rgba(201,168,76,0.15);padding:8px;margin-bottom:5px;}.ref-name{font-family:'Cinzel',serif;color:var(--gold2);font-size:.86rem;cursor:pointer;}.ref-desc{display:none;margin-top:5px;font-size:.85rem;color:var(--parch2);line-height:1.5;}.ref-desc.open{display:block;}.input-row{display:flex;gap:8px;align-items:flex-end;flex-wrap:wrap;}.input-row>*{flex:1;min-width:80px;}.input-row>.btn{flex:0;margin-bottom:0;}.input-row input,.input-row select{margin-bottom:0;}.muted{color:var(--parch2);font-style:italic;font-size:.9rem;}.gold{color:var(--gold);}.divider{border:none;border-top:1px solid rgba(201,168,76,0.2);margin:14px 0;}.flex-between{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;}.tags{display:flex;flex-wrap:wrap;gap:4px;margin-top:6px;}.inspiration-pip{width:28px;height:28px;border-radius:50%;border:2px solid var(--gold);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.7rem;color:var(--gold);transition:.2s;}.inspiration-pip.active{background:var(--gold);color:var(--dark);}